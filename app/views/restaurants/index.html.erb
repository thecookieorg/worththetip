<!-- THIS IS FOR GOOGLE MAPS FOR RAILS GEM! DON'T REMOVE, EVER! -->
<script src="//maps.google.com/maps/api/js?v=3.23&sensor=false&client=&key=&libraries=geometry&language=&hl=&region="></script> 
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->
<!-- END OF GOOGLA MAPS FOR RAILS -->



<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="panel panel-default">
        <!-- Google map lives in this custom_style div below -->
        <div id="custom_style" style='width: 100%; height: 300px;'></div>
        <div class="panel-body">
          Panel content
        </div>
      </div>

    </div><!-- end col-md-12 -->
  </div><!-- end row -->
</div><!-- end container -->



<h1>Listing Restaurants</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Address</th>
      <th>About</th>
      <th>Phone</th>
      <th>Email</th>
      <th>Website</th>
      <th>Monday hours</th>
      <th>Tuesday hours</th>
      <th>Wednesday hours</th>
      <th>Thursday hours</th>
      <th>Friday hours</th>
      <th>Saturday hours</th>
      <th>Sunday hours</th>
      <th>Facebook</th>
      <th>Twitter</th>
      <th>Instagram</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @restaurants.each do |restaurant| %>
      <tr>
        <td><%= restaurant.name %></td>
        <td><%= restaurant.address %></td>
        <td><%= restaurant.about %></td>
        <td><%= restaurant.phone %></td>
        <td><%= restaurant.email %></td>
        <td><%= restaurant.website %></td>
        <td><%= restaurant.monday_hours %></td>
        <td><%= restaurant.tuesday_hours %></td>
        <td><%= restaurant.wednesday_hours %></td>
        <td><%= restaurant.thursday_hours %></td>
        <td><%= restaurant.friday_hours %></td>
        <td><%= restaurant.saturday_hours %></td>
        <td><%= restaurant.sunday_hours %></td>
        <td><%= restaurant.facebook %></td>
        <td><%= restaurant.twitter %></td>
        <td><%= restaurant.instagram %></td>
        <td><%= link_to 'Show', restaurant %></td>
        <td><%= link_to 'Edit', edit_restaurant_path(restaurant) %></td>
        <td><%= link_to 'Destroy', restaurant, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Restaurant', new_restaurant_path if user_signed_in? && current_user.admin? %>


<script>
var mapStyle = [{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"administrative.country","elementType":"geometry.fill","stylers":[{"visibility":"on"}]},{"featureType":"administrative.province","elementType":"labels.icon","stylers":[{"hue":"#ff0000"},{"visibility":"on"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2f2f2"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#46bcec"},{"visibility":"on"}]}];
handler = Gmaps.build('Google');
handler.buildMap({ provider: {mapTypeId: google.maps.MapTypeId.SATELLITE, styles: mapStyle}, internal: {id: 'custom_style'}}, function(){
  markers = handler.addMarkers(<%=raw @hash.to_json %>);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});
</script>
